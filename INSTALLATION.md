# Сборка базы знаний и запуск представления в формате MKDocs

## Запуск локальной копии базы знаний в Docker

1. Убедитесь, что у вас установлен и запущен Docker на вашей ОС, а также git. Процесс установки подробно описан для различных ОС на официальных сайтах:
   - [Docker](https://www.docker.com) - *во избежание ошибок желательно установить последнюю версию;*
   - [Git](https://git-scm.com/downloads) - *для корректной работы требуется версия не ниже **2.41.0**;*

2. Скачайте репозиторий проекта, для этого откройте терминал или командную строку и выполните команду:

    ```shell
    git clone https://github.com/Security-Experts-Community/ERMACK.git
    ```

3. Убедитесь, что вы находитесь в корневой папке проекта:

    ```shell
    cd ERMACK
    ```

4. Отредактируйте или создайте файл с профилем инфраструктуры (этот шаг можно пропустить)

5. Запустите контейнер, выполнив команду:

    ```shell
    docker-compose up
    ```

   _(Docker должен начать скачивать образ ERMACK и его зависимости)_

6. После успешного запуска контейнера, откройте браузер и введите следующий адрес:

    ```
    http://localhost:8000
    ```


## Запуск локальной копии базы знаний в виртуальном окружении Python

1. Убедитесь, что на вашей ОС установлены git, Python и Pip. Процесс установки подробно описан для различных ОС на официальных сайтах:
   - [Python](https://www.python.org/downloads/) - *для корректной работы требуется версия не ниже **3.11**;*
   - [Git](https://git-scm.com/downloads) - *для корректной работы требуется версия не ниже **2.41.0**;*

2. Скачайте репозиторий проекта, для этого откройте терминал или командную строку и выполните команду:

    ```shell
    git clone https://github.com/Security-Experts-Community/ERMACK.git
    ```

3. Убедитесь, что вы находитесь в корневой папке проекта:

    ```shell
    cd ERMACK
    ```

4. Для инстанцирования действий внутри сценариев реагирования требуется создать файл с профилем инфраструктуры (этот шаг можно пропустить)

5. Установите виртуальное окружение:

    ```shell
    python -m venv .venv
    ```

6. Активируйте виртуальное окружение:

   - Для Windows:

     ```shell
     .venv\Scripts\activate.bat
     ```

   - Для Linux:

     ```shell
     source .venv/bin/activate
     ```

7. Для установки всех зависимостей введите:

    ```shell
    pip install -r requirements.txt
    ```

8. Запустите сборку проекта:

    ```shell
    python main.py mkdocs -i -a
    ```

9. Перейдите в папку с результатами и запустите сервер:

    ```shell
    cd build
    python -m mkdocs serve -a 0.0.0.0:8000
    ```

10. После успешного запуска сервера, откройте браузер и введите следующий адрес:

    ```
    http://localhost:8000
    ```
